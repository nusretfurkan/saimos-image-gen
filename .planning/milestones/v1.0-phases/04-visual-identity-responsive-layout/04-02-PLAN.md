---
phase: 04-visual-identity-responsive-layout
plan: 02
type: execute
wave: 2
depends_on:
  - 04-01
files_modified:
  - src/app/page.tsx
autonomous: true
requirements:
  - UX-02
  - UX-03

must_haves:
  truths:
    - "On mobile (< 768px), all controls and output stack in a single usable column"
    - "On desktop (>= 768px), controls appear in a left column and the generated image appears in a right column"
    - "The generated image display area is the largest, most prominent element on desktop"
    - "Controls column does not compress below 320px on narrow desktop screens"
    - "The layout has a max-width container that prevents ultra-wide stretching"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Responsive two-column layout structure"
      contains: "md:grid-cols"
  key_links:
    - from: "src/app/page.tsx"
      to: "src/app/globals.css"
      via: "Uses design token utility classes (bg-cream-50, font-heading, text-ink-900, etc.) defined in Plan 04-01"
      pattern: "cream|sage|ink|font-heading"
---

<objective>
Restructure the main page layout to be mobile-first single-column that transitions to a two-column grid (controls left, output right) at the `md:` breakpoint (768px).

Purpose: The app needs to work well on both phones and desktops. On mobile, everything stacks vertically. On desktop, the user sees controls on the left and the generated image (the hero element) on the right, using ~60% of the viewport width. This layout uses the design tokens established in Plan 04-01.

Output: A `page.tsx` with a responsive CSS Grid layout using Tailwind's `md:` breakpoint, a max-width container, and proper spacing rhythm.
</objective>

<execution_context>
@/Users/nusretozturk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nusretozturk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-visual-identity-responsive-layout/04-RESEARCH.md
@.planning/phases/04-visual-identity-responsive-layout/04-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement responsive two-column layout in page.tsx</name>
  <files>src/app/page.tsx</files>
  <action>
Restructure the existing `page.tsx` to wrap all content in a responsive layout. The layout must follow this structure:

1. **Outer container:** `<main className="min-h-screen bg-cream-50">`

2. **Max-width container with responsive padding:**
   ```tsx
   <div className="mx-auto max-w-7xl px-4 py-6 md:px-8 md:py-10">
   ```
   - `max-w-7xl` (80rem / 1280px) prevents ultra-wide stretching
   - Tighter padding on mobile (px-4, py-6), more generous on desktop (px-8, py-10)

3. **App header with Playfair Display heading:**
   ```tsx
   <header className="mb-8 md:mb-12">
     <h1 className="font-heading text-2xl font-semibold tracking-tight text-ink-900 md:text-3xl">
       Saimos' Image Gen
     </h1>
     <p className="mt-1 text-sm text-ink-500">
       Generate and transform images with AI
     </p>
   </header>
   ```
   - `font-heading` renders in Playfair Display (mapped via @theme inline)
   - Larger heading on desktop (md:text-3xl)
   - Asymmetric spacing: more space below header on desktop (md:mb-12 vs mb-8)

4. **Two-column grid (the core layout):**
   ```tsx
   <div className="grid grid-cols-1 gap-8 md:grid-cols-[minmax(320px,2fr)_3fr] md:gap-12 lg:gap-16">
   ```
   - Mobile: single column (`grid-cols-1`), 2rem gap between controls and output
   - Desktop: two columns with `minmax(320px, 2fr) 3fr` -- roughly 40/60 split
   - `minmax(320px, 2fr)` ensures the controls column never shrinks below 320px
   - `3fr` gives the output column ~60% of the space -- image is the hero
   - Gap increases progressively: 2rem mobile, 3rem at md, 4rem at lg

5. **Controls column (left on desktop):**
   ```tsx
   <aside className="space-y-6 md:max-w-lg">
     {/* ModeSelector, PromptInput, FilterControls, ImageUpload, GenerateButton */}
     {/* Keep existing component rendering order */}
   </aside>
   ```
   - `space-y-6` creates consistent vertical rhythm between controls
   - `md:max-w-lg` (32rem / 512px) caps the controls width on very wide screens
   - Semantic `<aside>` tag: controls are secondary to the image output

6. **Output column (right on desktop):**
   ```tsx
   <section className="md:sticky md:top-8 md:self-start">
     {/* ResultDisplay component */}
   </section>
   ```
   - `md:sticky md:top-8` keeps the image visible while scrolling controls on desktop
   - `md:self-start` prevents the output section from stretching to match controls height
   - On mobile, this section simply appears below the controls (natural stacking)

**Important:** Preserve ALL existing component imports and rendering logic. This task only wraps them in the new layout structure. Do not modify component internals or add/remove components. If the existing page has a different wrapper structure (e.g., a single `<div>`), replace the outer wrapper but keep all children.

**Spacing rhythm (deliberate asymmetry for editorial feel):**
- Header bottom margin: 2rem mobile, 3rem desktop
- Between controls: 1.5rem (space-y-6)
- Between columns: 2rem mobile (gap-8), 3rem desktop (md:gap-12), 4rem large (lg:gap-16)
- Page padding: 1rem mobile (px-4), 2rem desktop (px-8)
- Page vertical padding: 1.5rem mobile (py-6), 2.5rem desktop (md:py-10)

This asymmetry is intentional -- it creates the "editorial organic" feel from the research, where spacing is generous but not uniform.
  </action>
  <verify>
1. Run `npm run build` to confirm no TypeScript errors
2. Run `npm run dev` and test:
   - At viewport < 768px: All components stack vertically in a single column
   - At viewport >= 768px: Controls appear on the left (~40% width), output on the right (~60% width)
   - At viewport > 1280px: Content is centered with max-width constraint
   - Controls column never narrows below 320px
   - Resize browser window across the breakpoint -- transition is smooth (no layout jump)
3. Check the header renders in Playfair Display (serif font)
4. Check spacing feels generous but not wasteful
  </verify>
  <done>page.tsx implements a responsive CSS Grid layout: single-column stacking on mobile (< 768px), two-column grid (40/60 split) on desktop (>= 768px). The layout has a max-w-7xl container, responsive padding, a Playfair Display heading, and the generated image output is the hero element occupying ~60% of the desktop viewport. Build passes.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Mobile view (< 768px): single column, controls above output, full-width components
3. Desktop view (>= 768px): two columns, controls left (max ~512px), output right (hero, ~60%)
4. Ultra-wide view (> 1280px): content constrained to max-w-7xl, centered
5. Controls column does not compress below 320px
6. Sticky behavior: output stays visible while scrolling controls on desktop
7. Header uses Playfair Display (serif), body text uses DM Sans (sans-serif)
</verification>

<success_criteria>
The page layout is responsive: single-column mobile, two-column desktop. The generated image is the largest element on desktop. The layout uses design tokens from Plan 04-01 for colors, typography, and spacing. Mobile layout is usable with well-proportioned controls. Build passes.
</success_criteria>

<output>
After completion, create `.planning/phases/04-visual-identity-responsive-layout/04-02-SUMMARY.md`
</output>
