---
phase: 04-visual-identity-responsive-layout
plan: 03
type: execute
wave: 3
depends_on:
  - 04-01
  - 04-02
files_modified:
  - src/components/prompt-input.tsx
  - src/components/result-display.tsx
  - src/components/mode-selector.tsx
  - src/components/image-upload.tsx
  - src/components/ui/button.tsx
  - src/components/ui/card.tsx
  - src/components/ui/textarea.tsx
autonomous: false
requirements:
  - VIS-03

must_haves:
  truths:
    - "Buttons use sage green as the primary accent color with proper hover/active/focus states"
    - "Cards have warm cream backgrounds with sage-tinted subtle shadows"
    - "Input fields have cream backgrounds with sage focus rings"
    - "The generate button is the most visually prominent interactive element"
    - "The result display area has a large border radius and minimal chrome (image is the hero)"
    - "Mode selector tabs/toggle uses sage green for the active state"
    - "The overall look is warm, editorial, and distinctive -- not a generic AI tool template"
    - "All interactive elements have touch-friendly sizing (min 44px tap target) on mobile"
    - "Animations respect prefers-reduced-motion"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Sage green styled button with hover/active/focus/disabled states"
      contains: "sage"
    - path: "src/components/ui/card.tsx"
      provides: "Warm cream card with sage-tinted shadow"
      contains: "cream"
    - path: "src/components/ui/textarea.tsx"
      provides: "Cream-background textarea with sage focus ring"
      contains: "sage"
    - path: "src/components/result-display.tsx"
      provides: "Hero image display with minimal chrome and large radius"
      contains: "radius"
    - path: "src/components/prompt-input.tsx"
      provides: "Styled prompt input area"
      contains: "cream|sage"
    - path: "src/components/mode-selector.tsx"
      provides: "Styled mode selector with sage active state"
      contains: "sage"
  key_links:
    - from: "src/components/ui/button.tsx"
      to: "src/app/globals.css"
      via: "Uses sage color tokens (bg-sage-500, hover:bg-sage-600, active:bg-sage-700) and transition tokens (ease-soft)"
      pattern: "sage-500|sage-600|sage-700"
    - from: "src/components/result-display.tsx"
      to: "src/app/globals.css"
      via: "Uses shadow tokens (shadow-card, shadow-elevated), radius tokens (rounded-xl), and animation tokens (animate-fade-in)"
      pattern: "shadow-card|shadow-elevated|animate-fade-in"
---

<objective>
Apply the design system to all existing UI components, transforming them from generic/default styling to the distinctive "editorial organic" visual identity defined in the research.

Purpose: Plans 01 and 02 established the design tokens and layout. This plan applies those tokens to every interactive component -- buttons, cards, inputs, selectors, and the result display -- creating the cohesive, distinctive aesthetic that makes this app look like a curated studio tool rather than a generic AI template. This is where VIS-03 (distinctive, non-generic design) is realized.

Output: All existing components restyle to use sage green accents, cream surfaces, warm shadows, Playfair Display headings, and DM Sans body text. The result is visually distinctive and consistent.
</objective>

<execution_context>
@/Users/nusretozturk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nusretozturk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-visual-identity-responsive-layout/04-RESEARCH.md
@.planning/phases/04-visual-identity-responsive-layout/04-01-SUMMARY.md
@.planning/phases/04-visual-identity-responsive-layout/04-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Style UI primitives (button, card, textarea)</name>
  <files>
    src/components/ui/button.tsx
    src/components/ui/card.tsx
    src/components/ui/textarea.tsx
  </files>
  <action>
Restyle the three UI primitive components with the design system tokens. These are the foundation that higher-level components compose.

**button.tsx — Sage green primary button:**
Replace existing button styles with the design system. The primary variant must use:
- Base: `rounded-md px-5 py-2.5 font-body text-sm font-medium transition-all duration-200 ease-soft`
- Color: `bg-sage-500 text-white` (white text on sage green)
- Hover: `hover:bg-sage-600`
- Active: `active:bg-sage-700 active:scale-[0.98]` (slight press effect)
- Focus: `focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sage-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-cream-50`
- Disabled: `disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-sage-500`
- Motion: `motion-reduce:transition-none`
- Min height: `min-h-[44px]` for touch-friendly tap target on mobile

If the button has variant support (e.g., outline, ghost), also style those:
- Outline: `border border-sage-300 text-sage-700 hover:bg-sage-50 active:bg-sage-100`
- Ghost: `text-sage-700 hover:bg-sage-50 active:bg-sage-100`

**card.tsx — Warm cream card:**
- Base: `rounded-lg bg-cream-100 p-6 shadow-card border border-sage-200/40`
- Hover (if applicable): `transition-shadow duration-200 ease-soft hover:shadow-elevated`
- The card should feel warm and soft -- not sharp or boxy

**textarea.tsx — Cream input with sage focus:**
- Base: `w-full rounded-md px-4 py-3 font-body text-base text-ink-900 placeholder:text-ink-500 bg-cream-200`
- Border: `border border-sage-200/50`
- Focus: `focus:border-sage-400 focus:outline-none focus:ring-2 focus:ring-sage-500/20`
- Transition: `transition-all duration-200 ease-soft motion-reduce:transition-none`
- Resize: `resize-none`
- Min height: ensure at least 44px for touch target

Preserve all existing component logic (props, event handlers, forwarded refs, etc.). Only change className/style values. If the component uses a `cn()` or `clsx()` utility for merging classes, keep that pattern.
  </action>
  <verify>
1. Run `npm run build` -- no TypeScript errors
2. Visually inspect each component in the browser:
   - Button: sage green background, white text, darkens on hover, slight scale on press, sage ring on focus
   - Card: cream background, warm shadow, subtle sage-tinted border
   - Textarea: cream background, sage focus ring, proper placeholder color
3. Check all interactive elements are at least 44px tall (tap target)
4. Check `prefers-reduced-motion: reduce` disables transitions
  </verify>
  <done>Button, card, and textarea UI primitives are restyled with the sage green + cream design system. Button has full state management (hover, active, focus, disabled). Card has warm shadow and cream surface. Textarea has cream background with sage focus ring. All respect motion preferences and have touch-friendly sizing.</done>
</task>

<task type="auto">
  <name>Task 2: Style feature components (prompt-input, result-display, mode-selector, image-upload)</name>
  <files>
    src/components/prompt-input.tsx
    src/components/result-display.tsx
    src/components/mode-selector.tsx
    src/components/image-upload.tsx
  </files>
  <action>
Apply the design system to the four feature-level components. These compose the UI primitives from Task 1 and add their own styling.

**prompt-input.tsx:**
- Wrap the input area in a section with a small heading in `font-heading text-lg font-semibold text-ink-900` (Playfair Display)
- The textarea itself uses the styled textarea from Task 1 (or applies equivalent classes directly)
- Add a character count or helper text in `text-xs text-ink-500` below the textarea (if the component supports it)
- Spacing: `space-y-2` between label and textarea

**result-display.tsx — The hero element:**
This is the most important visual element. The generated image must dominate the viewport.
- Container: `rounded-xl bg-cream-100 shadow-card overflow-hidden`
- Large border radius (`rounded-xl` = 1rem) to create a distinct, gallery-like frame
- When an image is displayed: the image fills the container with `object-contain` and proper aspect ratio
- Empty state (no image yet): A warm, inviting placeholder -- cream background with a subtle sage-tinted icon or text
  - Use: `flex items-center justify-center min-h-[300px] md:min-h-[400px]`
  - Placeholder text: `text-ink-500 text-sm` with an encouraging message
- When image loads: apply `animate-fade-in` for a smooth entrance
- On hover (desktop): `hover:shadow-elevated` for subtle depth increase
- Minimal chrome: NO heavy frame, NO distracting borders, NO competing elements around the image. The image IS the design.

**mode-selector.tsx:**
- Style as segmented control or tab group with sage green active state
- Inactive tab/segment: `bg-cream-100 text-ink-700 hover:bg-cream-200`
- Active tab/segment: `bg-sage-500 text-white` (or `bg-sage-50 text-sage-700 border-b-2 border-sage-500` for an underline style -- choose whichever matches the existing component structure)
- Transition between states: `transition-all duration-200 ease-soft`
- Container: subtle rounded border or background to visually group the options
- Touch-friendly: min-h-[44px] for each option on mobile

**image-upload.tsx:**
- Drop zone styling: `rounded-lg border-2 border-dashed border-sage-300/60 bg-cream-100 p-8`
- Hover/drag-active state: `border-sage-500 bg-sage-50/50` (sage green highlight when file is being dragged over)
- Upload icon/text: `text-ink-500` with sage accent for the browse link
- Thumbnail preview (if shown): `rounded-md shadow-card` with a small remove button
- Touch-friendly: entire drop zone is tappable, min-h-[120px]

**Design principles to follow (editorial organic):**
- Use sage green SPARINGLY -- only for interactive elements and active states. Sage green is the accent, cream is the surface.
- Headings in Playfair Display (`font-heading`), everything else in DM Sans (`font-body` or default)
- Generous whitespace between components (the layout handles this via `space-y-6` in the aside)
- Subtle animations: `animate-fade-in` for image appearance, `ease-soft` for transitions
- No heavy borders or harsh contrasts -- use `border-sage-200/40` for subtle dividers
- The generated image MUST be the visual hero. All other elements should feel secondary.

Preserve all existing component logic. Only modify className/style values. If components import the UI primitives (Button, Card, Textarea), those will inherit styles from Task 1 -- do not duplicate those styles.
  </action>
  <verify>
1. Run `npm run build` -- no TypeScript errors
2. Visually inspect in browser:
   - Prompt input has Playfair Display section heading, cream textarea
   - Result display: large rounded container, image is hero element, smooth fade-in animation
   - Mode selector: sage green active tab, cream inactive tabs, smooth transition
   - Image upload: dashed sage border, highlights on drag, cream background
3. Check on mobile viewport (< 768px): all components usable, touch targets >= 44px
4. Check sage green is used sparingly (accents only, not flooding surfaces)
5. Overall impression: warm, editorial, distinctive -- NOT generic
  </verify>
  <done>All four feature components are restyled with the design system. Prompt input has Playfair heading. Result display treats the image as hero with minimal chrome. Mode selector uses sage green for active state. Image upload has sage-accented drop zone. The overall aesthetic is warm, editorial, and distinctive.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Visual identity verification</name>
  <files>src/app/page.tsx</files>
  <action>
Human verification of the complete visual identity. Claude has applied:
- Design tokens (sage green + cream + ink palette, custom shadows, typography)
- Responsive layout (single-column mobile, two-column desktop)
- All components styled with the editorial organic aesthetic

Present the running app to the user for visual inspection.
  </action>
  <verify>
1. Open the app in a browser at http://localhost:3000
2. **Desktop check (>= 768px wide):**
   - Confirm two-column layout: controls on the left, output area on the right
   - Confirm the output/image area is larger than the controls column (~60% vs ~40%)
   - Confirm heading "Saimos' Image Gen" is in a serif font (Playfair Display)
   - Confirm body text is in a clean sans-serif (DM Sans)
   - Confirm the background is warm cream (not white or gray)
   - Confirm buttons are sage green with white text
   - Confirm the overall look is distinctive and does not resemble a typical AI tool (ChatGPT, Midjourney web, etc.)
3. **Mobile check (< 768px, use DevTools responsive mode or a phone):**
   - Confirm single-column layout: everything stacks vertically
   - Confirm all buttons and interactive elements are comfortably tappable
   - Confirm text is readable and not cramped
4. **Interaction check:**
   - Hover over a button: it should darken smoothly
   - Focus a textarea: a subtle sage ring should appear
   - If an image is generated, it should fade in smoothly
5. **Overall impression:** Does this feel like a curated personal tool or a generic template?
  </verify>
  <done>User has approved the visual identity as distinctive and non-generic. Both mobile and desktop layouts verified as usable and well-proportioned. Type "approved" if the visual identity is distinctive and layouts work correctly. Otherwise, describe specific issues to fix.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without errors
2. Every component uses sage green + cream + ink color tokens (no hardcoded hex/rgb colors)
3. All headings render in Playfair Display, all body text in DM Sans
4. Mobile layout (< 768px): single column, touch-friendly, usable
5. Desktop layout (>= 768px): two-column, image is hero, controls secondary
6. No component uses generic blue/gray/black styling -- everything is warm and sage-tinted
7. Animations respect prefers-reduced-motion
8. Human verification confirms the design is distinctive and non-generic
</verification>

<success_criteria>
All components are visually refined with the sage green + cream design system. The app looks like a distinctive, curated studio tool -- not a generic AI template. The user has verified the visual identity meets their expectations through the checkpoint.
</success_criteria>

<output>
After completion, create `.planning/phases/04-visual-identity-responsive-layout/04-03-SUMMARY.md`
</output>
