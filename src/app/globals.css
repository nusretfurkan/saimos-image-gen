@import "tailwindcss";

/* OKLCH browser fallback for older browsers */
html {
  background-color: #FDFAF5;
}

/* Bridge next/font CSS variables to Tailwind font utilities.
   Uses @theme inline because these variables are injected at runtime
   by next/font/google and do not exist at Tailwind build time. */
@theme inline {
  --font-heading: var(--font-playfair-display);
  --font-body: var(--font-dm-sans);
}

@theme {
  /* === SAGE GREEN PALETTE (OKLCH, hue 145) === */
  /* Primary accent for interactive elements */
  --color-sage-50: oklch(0.97 0.02 145);   /* Lightest tint (hover bg, subtle highlights) */
  --color-sage-100: oklch(0.93 0.04 145);  /* Light tint (selected state bg) */
  --color-sage-200: oklch(0.87 0.06 145);  /* Border color, divider */
  --color-sage-300: oklch(0.78 0.08 145);  /* Disabled state */
  --color-sage-400: oklch(0.68 0.09 145);  /* Placeholder, muted accent */
  --color-sage-500: oklch(0.60 0.10 145);  /* Primary accent -- buttons, focus rings */
  --color-sage-600: oklch(0.52 0.09 145);  /* Hover state for primary accent */
  --color-sage-700: oklch(0.44 0.08 145);  /* Active/pressed state */
  --color-sage-800: oklch(0.36 0.06 145);  /* Text on light bg (high contrast) */
  --color-sage-900: oklch(0.28 0.04 145);  /* Darkest sage (rare use) */

  /* === CREAM PALETTE (OKLCH, warm neutrals) === */
  /* Warm backgrounds and surfaces */
  --color-cream-50: oklch(0.99 0.01 90);   /* Page background */
  --color-cream-100: oklch(0.97 0.02 85);  /* Card/surface background */
  --color-cream-200: oklch(0.94 0.03 80);  /* Elevated surface, input backgrounds */

  /* === INK PALETTE (text colors, warm dark tones) === */
  /* Not pure black -- warm tones for a softer feel */
  --color-ink-900: oklch(0.20 0.02 260);   /* Primary text */
  --color-ink-700: oklch(0.35 0.02 260);   /* Secondary text */
  --color-ink-500: oklch(0.50 0.02 260);   /* Tertiary text, placeholders */
  --color-ink-300: oklch(0.70 0.01 260);   /* Disabled text */

  /* === SEMANTIC COLORS === */
  --color-error: oklch(0.65 0.20 25);      /* Error messages */
  --color-error-bg: oklch(0.95 0.03 25);   /* Error background tint */
  --color-success: oklch(0.70 0.15 145);   /* Success states */

  /* === SHADOWS (warm sage-tinted, not pure black) === */
  --shadow-card: 0 1px 3px 0 oklch(0.28 0.04 145 / 0.06),
                 0 1px 2px -1px oklch(0.28 0.04 145 / 0.04);
  --shadow-elevated: 0 4px 12px -2px oklch(0.28 0.04 145 / 0.08),
                     0 2px 4px -2px oklch(0.28 0.04 145 / 0.04);
  --shadow-focus: 0 0 0 3px oklch(0.60 0.10 145 / 0.25);

  /* === BORDER RADIUS (varied for visual hierarchy) === */
  --radius-sm: 0.375rem;   /* 6px - small elements: tags, badges */
  --radius-md: 0.5rem;     /* 8px - buttons, inputs */
  --radius-lg: 0.75rem;    /* 12px - cards, panels */
  --radius-xl: 1rem;       /* 16px - image display, modals */
  --radius-2xl: 1.25rem;   /* 20px - large containers */

  /* === CUSTOM EASING CURVES === */
  --ease-soft: cubic-bezier(0.25, 0.1, 0.25, 1.0);  /* Smooth deceleration */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);  /* Slight overshoot */

  /* === CUSTOM ANIMATIONS === */
  --animate-fade-in: fade-in 0.3s var(--ease-soft);
  --animate-slide-up: slide-up 0.4s var(--ease-soft);
  --animate-scale-in: scale-in 0.2s var(--ease-spring);

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes scale-in {
    from { opacity: 0; transform: scale(0.96); }
    to { opacity: 1; transform: scale(1); }
  }
}

/* Subtle grain texture overlay for organic feel */
@layer base {
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
  }
}

/* Fullscreen image viewer dialog */
dialog::backdrop {
  background: rgba(0, 0, 0, 0.85);
}

.fullscreen-dialog {
  opacity: 0;
  transition: opacity 150ms ease-in-out;
}

.fullscreen-dialog[open] {
  opacity: 1;
}

@utility scrollbar-hide {
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}
